<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="x-ua-compatible" content="ie=edge">


<!-- html generated by pub-server from markdown /050 GitHub Pages.md -->

<title>GitHub Pages</title>
<link rel="stylesheet" href="./css/github-markdown.css">
<link rel="stylesheet" href="./css/pub-theme-doc.css">
<link rel="stylesheet" href="./css/prism.css">
<link rel="stylesheet" href="./css/font-awesome.css">
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>

<div data-render-layout="main-layout"><header>
<div id="doctitle"><h1 id="pub-server"><a href="./">pub-server</a></h1>
<p>documentation</p>
</div>
<div id="topmenu"><ul>
<li><a href="https://github.com/jldec/pub-server" title="github"><span class="fa fa-lg fa-fw">&#xf09b;</span></a></li>
</ul>
</div>
</header>

<div id="navicon" onclick=""><p><span class="fa fa-fw fa-lg">&#xf0c9;</span></p>

<nav id="toc">
<ul>
<li><a href="./">Introduction</a></li>
<li><a href="./how-it-works">How it works</a></li>
<li><a href="./installation">Installation</a></li>
<li><a href="./simple-doc-site">Simple doc site</a></li>
<li><a href="./configuration">Configuration</a></li>
<li><a href="./packages-and-themes">Packages and Themes</a></li>
<li><a href="./sources">Sources</a></li>
<li><a href="./outputs">Outputs</a></li>
<li><a href="./static-files">Static Files</a></li>
<li><a href="./browser-scripts">Browser Scripts</a></li>
<li><a href="./generator-plugins">Generator Plugins</a></li>
<li><a href="./server-plugins">Server Plugins</a></li>
<li><a href="./web-server-configuration">Web Server Configuration</a></li>
<li><a href="./the-page-model">The Page Model</a></li>
<li><a href="./links">Links</a></li>
<li><a href="./command-line">Command line</a></li>
<li><a href="./helpers">Helpers</a></li>
<li><a href="./github-pages">GitHub Pages</a></li>
</ul>
</nav>
</div>

<div id="main" onclick="">
<div id="content" class="markdown-body">
<div data-render-page="default"><div data-render-html="/github-pages"><h1 id="github-pages">GitHub Pages</h1>
<p>There are many ways to setup your repos for publishing on GitHub Pages. This discussion assumes that you are publishing on GitHub Pages by pushing a &quot;Project&quot; repo with a <code>gh-pages</code> branch as described <a href="https://help.github.com/articles/user-organization-and-project-pages/">here</a>.</p>
<h2 id="recommended-approach-separate-repo">Recommended approach: <em>separate repo</em></h2>
<p>Most docs assume that you want to maintain your gh-pages with your source in one repo.</p>
<p>However, things get a lot simpler if you separate the repo which holds the source used to generate your site, from the &quot;gh-pages&quot; repo used to publish it on GitHub Pages.</p>
<ul>
<li>no switching branches and merging trees</li>
<li>no empty gh-pages orphan branch to intialize</li>
<li>no static content cluttering up your source repo</li>
<li>and allow for sites generated from multiple source projects</li>
</ul>
<h2 id="publishing-a-new-site-to-gh-pages">Publishing a new site to gh-pages</h2>
<p>The following steps assume that you will use an <code>out</code> subdirectory in the root of the source project. Alternative paths can be configured using the <code>outputs</code> key in your pub-config.</p>
<p>To prevent the output files from being picked up as part of the source repo, add <code>/out/</code> to your <code>.gitignore</code> file.</p>
<p>The first time you run <code>pub -O</code> it will create an <code>out</code> directory for your html output and other assets.</p>
<p>Test the output by running <code>pub -S .</code> and then navigating to <a href="http://localhost:3001/out/">http://localhost:3001/out/</a>.</p>
<p>The <code>-S &lt;path&gt;</code> option runs pub-server as a static-only web server, emulating GitHub Pages. If you don&#39;t use a custom domain, this will also test the relative links in your html since your site on GitHub Pages will live under <code>https://&lt;id&gt;.github.io/&lt;repo&gt;/...</code>.</p>
<p>If <a href="./links">links</a> are broken, make sure that your pub-config has an output with <code>relPaths</code> set. e.g</p>
<pre><code class="language-js">outputs<span class="token operator">:</span> <span class="token punctuation">{</span>
  path<span class="token operator">:</span> <span class="token string">'./out'</span><span class="token punctuation">,</span>
  relPaths<span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span></code></pre>
<p>At this point it may also be useful to run <code>git status</code> in the root of your main project to make sure that the <code>out</code> directory is properly ignored. If not, add &#39;/out/&#39; to your <code>.gitignore</code> file.</p>
<p>When you are ready to publish a new GitHub Pages repo:</p>
<pre><code class="language-bash"><span class="token builtin class-name">cd</span> out
<span class="token function">git</span> init
<span class="token function">git</span> <span class="token function">add</span> -A
<span class="token function">git</span> commit -m <span class="token string">'first pub-server output'</span>
<span class="token function">git</span> branch -m gh-pages</code></pre>
<p>The last step above just renames the default &quot;master&quot; branch to &quot;gh-pages&quot;.</p>
<p>Follow the normal process to create a new repo on Gitub and use the suggested commands for intializing that with an existing repo, <em>except</em> when you <code>git push -u</code> the first time, replace &quot;master&quot; with &quot;gh-pages&quot;.</p>
<pre><code class="language-bash"><span class="token function">git</span> remote <span class="token function">add</span> origin https://github.com/<span class="token operator">&lt;</span>id<span class="token operator">></span>/<span class="token operator">&lt;</span>repo<span class="token operator">></span>.git
<span class="token function">git</span> push -u origin gh-pages</code></pre>
<h2 id="publishing-updates">Publishing updates</h2>
<p>Updating the site on GitHub Pages requires no fancy git magic. Simply re-generate the output into the <code>out</code> directory using <code>pub -O</code> and then commit and push the changes to GitHub.</p>
</div>
</div>
</div>
<div id="credit"><p><span class="fa">&#xf004;</span> powered by <a href="https://jldec.github.io/pub-doc/">pub-server</a> and <a href="https://github.com/jldec/pub-theme-doc">pub-theme-doc</a></p>
</div>
</div>
</div>

<script>window.pubRef = {"href":"/github-pages","relPath":"."};</script>
<script src="./js/jquery-1.12.4.min.js" ></script>
<script src="./pub/pub-ux.js" ></script>
<!-- Copyright (c) 2015-2020 JÃ¼rgen Leschner - github.com/jldec - MIT license -->
</body>
</html>
