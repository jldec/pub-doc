<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="x-ua-compatible" content="ie=edge">


<!-- html generated by pub-server from markdown /040 Helpers.md -->

<title>Helpers</title>
<link rel="stylesheet" href="./css/github-markdown.css">
<link rel="stylesheet" href="./css/pub-theme-doc.css">
<link rel="stylesheet" href="./css/prism.css">
<link rel="stylesheet" href="./css/font-awesome.css">
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>

<div data-render-layout="main-layout"><header>
<div id="doctitle"><h1 id="pub-server"><a href="./">pub-server</a></h1>
<p>documentation</p>
</div>
<div id="topmenu"><ul>
<li><a href="https://github.com/jldec/pub-server" title="github"><span class="fa fa-lg fa-fw">&#xf09b;</span></a></li>
</ul>
</div>
</header>

<div id="navicon" onclick=""><p><span class="fa fa-fw fa-lg">&#xf0c9;</span></p>

<nav id="toc">
<ul>
<li><a href="./">Introduction</a></li>
<li><a href="./how-it-works">How it works</a></li>
<li><a href="./installation">Installation</a></li>
<li><a href="./simple-doc-site">Simple doc site</a></li>
<li><a href="./configuration">Configuration</a></li>
<li><a href="./packages-and-themes">Packages and Themes</a></li>
<li><a href="./sources">Sources</a></li>
<li><a href="./outputs">Outputs</a></li>
<li><a href="./static-files">Static Files</a></li>
<li><a href="./browser-scripts">Browser Scripts</a></li>
<li><a href="./generator-plugins">Generator Plugins</a></li>
<li><a href="./server-plugins">Server Plugins</a></li>
<li><a href="./web-server-configuration">Web Server Configuration</a></li>
<li><a href="./the-page-model">The Page Model</a></li>
<li><a href="./links">Links</a></li>
<li><a href="./command-line">Command line</a></li>
<li><a href="./helpers">Helpers</a></li>
<li><a href="./github-pages">GitHub Pages</a></li>
</ul>
</nav>
</div>

<div id="main" onclick="">
<div id="content" class="markdown-body">
<div data-render-page="default"><div data-render-html="/helpers"><h1 id="helpers">Helpers</h1>
<p>The following handlebar helpers are included in
<a href="https://github.com/jldec/pub-generator/blob/master/helpers.js">pub-generator/helpers.js</a></p>
<p>HTML helpers should be enclosed in <code>{{{triple-braces}}}</code> to avoid html escaping.</p>
<h2 id="markdown-html">Markdown HTML</h2>
<h5 id="html-text"><code>{{{html &lt;text&gt;}}}</code></h5>
<p>Returns html for the markdown text or in the current page or fragment.</p>
<h5 id="fragmenthtml-fragment"><code>{{{fragmentHtml &lt;fragment&gt;}}}</code></h5>
<p>Returns html for a named/referenced fragment.</p>
<h5 id="html-nowrap"><code>{{{html-noWrap}}}</code></h5>
<p>Returns html without the wrapper div - useful to prevent editing or for container-sensitive CSS</p>
<h5 id="html-fq"><code>{{{html-fq}}}</code></h5>
<p>Returns html with fully qualified images and links - useful for HTML exports.</p>
<h2 id="layout-helpers">Layout helpers</h2>
<h5 id="renderpage"><code>{{{renderPage}}}</code></h5>
<p>Renders the current page using the template specified in its markdown header (or <code>default</code>).</p>
<h5 id="renderlayout"><code>{{{renderLayout}}}</code></h5>
<p>Renders the current page using its layout template - only used with 3-level template nesting.</p>
<h5 id="injectcss"><code>{{{injectCss}}}</code></h5>
<p>Injects CSS <code>&lt;link&gt;</code> elements for all themes and packages.</p>
<h5 id="injectjs"><code>{{{injectJs}}}</code></h5>
<p>Injects <code>&lt;script&gt;</code> elements for all themes and packages, as well as for editor and websockets when necessary.</p>
<h5 id="partial-template"><code>{{partial &lt;template&gt;}}</code></h5>
<p>Renders the specified template using the same page context as the current page - useful for composing templates</p>
<h2 id="iterators">Iterators</h2>
<p>These are block helpers for repeated template blocks - usage: <code>{{#helper}}...{{/helper}}</code></p>
<h5 id="eachfragment-prefix"><code>{{#eachFragment &lt;prefix&gt;}}</code></h5>
<p>Iterates over page fragments starting with prefix. Prefix may be qualified with page url to reference the same fragment from layout templates which are shared across pages.</p>
<h5 id="eachpage"><code>{{#eachPage}}</code></h5>
<p>Iterates over all pages</p>
<h5 id="eachpagewithtemplate-template"><code>{{#eachPageWithTemplate &lt;template&gt;}}</code></h5>
<p>Iterates over all pages in the site with a specific template</p>
<h5 id="eachlinkin-fragment"><code>{{#eachLinkIn &lt;fragment&gt;}}</code></h5>
<p>Iterates over links inside the markdown fragment - useful for rendering links using custom HTML.
Returns {href,title,text} (not fully qualified)</p>
<h2 id="conditional-helpers">Conditional helpers</h2>
<p>These are block helpers which run the template block once if the condition is met.
An {{else}} block may follow the first conditional block. E.g. <code>{{#ifHelper}}...{{else}}...{{/ifHelper}}</code></p>
<h5 id="ifeq-value1-value2"><code>{{#ifeq &lt;value1&gt; &lt;value2&gt;}}</code></h5>
<p>Tests for value1 == value2.</p>
<h5 id="ifnoteq-value1-value2"><code>{{#ifnoteq &lt;value1&gt; &lt;value2&gt;}}</code></h5>
<p>Tests for value1 != value2.</p>
<h5 id="ifoption-key"><code>{{#ifOption &lt;key&gt;}}</code></h5>
<p>Tests for truthy opts.key.</p>
<h5 id="ifdev"><code>{{#ifDev}}</code></h5>
<p>Tests for !opts.production.</p>
<h2 id="links-and-images">Links and images</h2>
<p>Becuase urls in links and images may be qualified differently depending on the hosting target or CDN,
it makes sense to wrap these in a helper, e.g. to make the image server configurable separately or to
enable hosting both with and without relative paths.</p>
<h5 id="relpath"><code>{{relPath}}</code></h5>
<p>Returns relative path prefix for the current page or output file when output.relPaths is true (affects only static output HTML). Useful for qualifying hardwired CSS and JS links in layout templates.</p>
<h5 id="fixpath-href"><code>{{fixPath &lt;href&gt;}}</code></h5>
<p>Like {{relPath}} but also handles link rewriting on output with fqImages. Requires href string parameter.</p>
<h5 id="linkto-url-text"><code>{{{linkTo &lt;url&gt; &lt;text&gt;}}}</code></h5>
<p>Returns link html for the specified url/text - useful when a url is maintained in page metadata.</p>
<h5 id="pagelink"><code>{{{pageLink}}}</code></h5>
<p>Returns link html for the current page or fragment - useful for auto-generating lists of links with block helpers.</p>
<h5 id="pagehref"><code>{{pageHref}}</code></h5>
<p>Returns just the (qualified or not) href for the current page or fragment - useful for constructing customized links.</p>
<h5 id="fqurl"><code>{{fqurl}}</code></h5>
<p>Returns the fully qualified url for the current page or fragment - useful for sitemaps.</p>
<h5 id="next"><code>{{{next}}}</code></h5>
<p>Returns link to the next page at the same level in the URL hierarchy.</p>
<h5 id="prev"><code>{{{prev}}}</code></h5>
<p>Returns link to the previous page at the same level in the URL hierarchy.</p>
<h5 id="image-src-text-title"><code>{{{image &lt;src&gt; &lt;text&gt; &lt;title&gt;}}}</code></h5>
<p>Returns properly qualified <code>&lt;img src=&quot;src&quot; alt=&quot;text&quot; title=&quot;title&quot;&gt;</code>. If no parameters are passed, this helper
will try to use <code>this.image</code> or <code>this.icon</code>. Text and title are optional.</p>
<h2 id="page-lists">Page lists</h2>
<h4 id="pagetree-groupby-defaultgroup"><code>{{{pageTree &lt;groupBy&gt;, &lt;defaultGroup&gt;}}}</code></h4>
<p>Render nested ul-li structure starting at <code>/</code>, grouping by <groupBy>. Use <defaultGroup> if <groupBy> has no value. (groupBy and defaultGroup must either both be specified or no args passed). NOTE: result does not include root</p>
<h2 id="simple-string-and-number-helpers">Simple string and number helpers</h2>
<h5 id="title"><code>{{title}}</code></h5>
<p>Returns current page name or title</p>
<h5 id="option-key"><code>{{option &lt;key&gt;}}</code></h5>
<p>Returns opts.key</p>
<h5 id="fragmentid"><code>{{fragmentID}}</code></h5>
<p>Returns current fragment id (without the leading <code>#</code>)</p>
<h5 id="mod"><code>{{mod}}</code></h5>
<p>Returns frame.data.index % n || 0 inside eachPage or eachFragment e.g. for generating style names.</p>
<h2 id="escaping">Escaping</h2>
<h5 id="uqt-string"><code>{{uqt &lt;string&gt;}}</code></h5>
<p>Returns url-escaped string</p>
<h5 id="hbr-string"><code>{{{hbr &lt;string&gt;}}}</code></h5>
<p>Returns HTML-escaped string with HTMLified linebreaks</p>
<h5 id="csv-array-or-string"><code>{{csv &lt;array or string&gt;}}</code></h5>
<p>Returns string of comma separated values -- useful for summarizing form data from checkboxes</p>
<h5 id="csvqt-string"><code>{{csvqt &lt;string&gt;}}</code></h5>
<p>Returns string escaped for csv output (fixes commas and quotes)</p>
<h2 id="date-helpers">Date helpers</h2>
<p>The following helpers use <a href="https://github.com/jldec/date-plus">date-plus</a> to parse and format the input
If no input is provided the current date/time is used.</p>
<h5 id="datetime-date"><code>{{dateTime &lt;date&gt;}}</code></h5>
<p>Returns date.format()</p>
<h5 id="shortdate-date"><code>{{shortDate &lt;date&gt;}}</code></h5>
<p>Returns date.format(&#39;m/d/yyyy&#39;)</p>
<h5 id="mediumdate-date"><code>{{mediumDate &lt;date&gt;}}</code></h5>
<p>Returns date.format(&#39;mediumDate&#39;)</p>
<h5 id="longdate-date"><code>{{longDate &lt;date&gt;}}</code></h5>
<p>Returns date.format(&#39;longDate&#39;)</p>
<h5 id="fulldate-date"><code>{{fullDate &lt;date&gt;}}</code></h5>
<p>Returns date.format(&#39;fullDate&#39;)</p>
<h5 id="xmldatetime-date"><code>{{xmlDateTime &lt;date&gt;}}</code></h5>
<p>Returns date.format(&#39;yyyy-mm-dd&#39;T&#39;HH:MM:ss&#39;)</p>
<h5 id="isodatetime-date"><code>{{isoDateTime &lt;date&gt;}}</code></h5>
<p>Returns date.format(&#39;isoDateTime&#39;)</p>
<h2 id="helper-utility-functions">Helper utility functions</h2>
<p>The following functions are useful for writing additional helpers in a plugin.</p>
<h5 id="hbrelpath"><code>hb.relPath()</code></h5>
<p>Function form of {{relPath}}</p>
<h5 id="hbfixpathhref"><code>hb.fixPath(href)</code></h5>
<p>Function form of {{fixPath}}</p>
<h5 id="hbhbpparam"><code>hb.hbp(&lt;param&gt;)</code></h5>
<p>Detects whether a parameter was passed to the helper and returns undefined if not.
Useful for variadic helpers E.g.</p>
<pre><code class="language-js">hb<span class="token punctuation">.</span><span class="token function">registerHelper</span><span class="token punctuation">(</span><span class="token string">'date'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">d<span class="token punctuation">,</span> frame</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> u<span class="token punctuation">.</span><span class="token function">date</span><span class="token punctuation">(</span><span class="token function">hbp</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">'d mmmm, yyyy'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>When <code>{{date}}</code> is used without additional parameters, handlebars will pass the frame
context to the helper function as the first parameter. Using hbp() detects this.</p>
<p><code>hb</code> is a reference to generator.handlebars.</p>
</div>
</div>
</div>
<div id="credit"><p><span class="fa">&#xf004;</span> powered by <a href="https://jldec.github.io/pub-doc/">pub-server</a> and <a href="https://github.com/jldec/pub-theme-doc">pub-theme-doc</a></p>
</div>
</div>
</div>

<script>window.pubRef = {"href":"/helpers","relPath":"."};</script>
<script src="./js/jquery-1.12.4.min.js" ></script>
<script src="./pub/pub-ux.js" ></script>
<!-- Copyright (c) 2015-2019 Jürgen Leschner - github.com/jldec - MIT license -->
</body>
</html>
